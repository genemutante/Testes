<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <title>Portal de Testes de Perfil</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Link para seu arquivo CSS unificado -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Cabeçalho fixo -->
  <header>
    Portal de Testes de Perfil v2
  </header>

  <!-- Container principal (mesmo estilo do #app nas outras páginas) -->
  <main id="app">
    <h1>Bem-vindo(a) ao Portal de Testes</h1>

    <p>Por favor, insira seu nome e último sobrenome:</p>
    <input 
      type="text" 
      id="userName" 
      class="input-field" 
      placeholder="SEU NOME (EX.: IVO DIAS)"
      required
    />
    <p>Por favor, insira seu email:</p>
    <input 
      type="email" 
      id="userEmail" 
      class="input-field" 
      placeholder="seu email (ex.: fulano@teste.com)"
      required
    />

    <!-- Grade de botões (3 colunas) -->
    <div class="grid-container">
      <!-- 1) 9CERTRIO1 (Cérebro Trino) -->
      <button id="cerebroTrinoBtn" class="btn" onclick="iniciarCerebroTrino()">9CERTRIO1</button>
      
      <!-- 2) 8CANCOM2 (Canais de Comunicação) -->
      <button id="canaisComBtn" class="btn" onclick="iniciarCanaisCom()">8CANCOM2</button>
      
      <!-- 3) 7COMPHA03 (Competências e Habilidades) -->
      <button id="comphabBtn" class="btn" onclick="iniciarCompetencias()">7COMPHA03</button>
      
      <!-- 4) 6ESTAUT4 (Autoestima) -->
      <button id="autoestBtn" class="btn" onclick="iniciarAutoestima()">6ESTAUT4</button>
      
      <!-- 5) 5ATVPRE005 (Proatividade) -->
      <button id="proatBtn" class="btn" onclick="iniciarProatividade()">5ATVPRE005</button>
      
      <!-- 6) 4QEMO002 (Quociente Emocional) -->
      <button id="qeBtn" class="btn" onclick="iniciarQe()">4QEMO002</button>
      
      <!-- 7) 3SABCOM7 (Comportamentos Sabotadores) -->
      <button id="sabotadoresBtn" class="btn" onclick="iniciarSabotadores()">3SABCOM7</button>
      
      <!-- 8) 2PERDSK08 (DISK) -->
      <button id="discBtn" class="btn" onclick="iniciarDisc()">2PERDSK08</button>
      
      <!-- 9) 1VECA0009 (VECA) -->
      <button id="vecaBtn" class="btn" onclick="iniciarVeca()">1VECA0009</button>
    </div>
  </main>

  <!-- Rodapé fixo -->
  <footer>
    © 2025 - Portal de Testes de Perfil
  </footer>

  <script>
    // ============================
    // Funções de checagem (localStorage)
    // ============================
    function checkCerebroTrinoStatus() {
      const btn = document.getElementById("cerebroTrinoBtn");
      if (localStorage.getItem("cerebroTrinoDone") === "true") {
        btn.textContent = "9CERTRIO1 ✔";
      }
    }
    function checkCanaisComStatus() {
      const btn = document.getElementById("canaisComBtn");
      if (localStorage.getItem("canaisComDone") === "true") {
        btn.textContent = "8CANCOM2 ✔";
      }
    }
    function checkComphabStatus() {
      const btn = document.getElementById("comphabBtn");
      if (localStorage.getItem("comphabDone") === "true") {
        btn.textContent = "7COMPHA03 ✔";
      }
    }
    function checkAutoestStatus() {
      const btn = document.getElementById("autoestBtn");
      if (localStorage.getItem("autoestDone") === "true") {
        btn.textContent = "6ESTAUT4 ✔";
      }
    }
    function checkProatStatus() {
      const btn = document.getElementById("proatBtn");
      if (localStorage.getItem("proatDone") === "true") {
        btn.textContent = "5ATVPRE005 ✔";
      }
    }
    function checkQeStatus() {
      const btn = document.getElementById("qeBtn");
      if (localStorage.getItem("qeTestDone") === "true") {
        btn.textContent = "4QEMO002 ✔";
      }
    }
    function checkSabotadoresStatus() {
      const btn = document.getElementById("sabotadoresBtn");
      if (localStorage.getItem("sabTestDone") === "true") {
        btn.textContent = "3SABCOM7 ✔";
      }
    }
    function checkDiscStatus() {
      const btn = document.getElementById("discBtn");
      if (localStorage.getItem("discTestDone") === "true") {
        btn.textContent = "2PERDSK08 ✔";
      }
    }
    function checkVecaStatus() {
      const btn = document.getElementById("vecaBtn");
      if (localStorage.getItem("vecaTestDone") === "true") {
        btn.textContent = "1VECA0009 ✔";
      }
    }

    // ============================
    // Função de validação genérica
    // ============================
    function validarCampos(nameInput, emailInput) {
      if (nameInput.length < 8 || !nameInput.includes(" ")) {
        alert("Por favor, insira seu nome e último sobrenome (mínimo 8 caracteres).");
        return false;
      }
      if (!validateEmail(emailInput)) {
        alert("Por favor, insira um email válido.");
        return false;
      }
      return true;
    }
    function validateEmail(email) {
      const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return re.test(email.toLowerCase());
    }

    // ============================
    // Função genérica para iniciar teste
    // ============================
    function iniciarTeste(urlPage) {
      const nameInput = document.getElementById("userName").value.trim();
      const emailInput = document.getElementById("userEmail").value.trim().toLowerCase();
      if (!validarCampos(nameInput, emailInput)) return;
      const url = `${urlPage}?name=${encodeURIComponent(nameInput)}&email=${encodeURIComponent(emailInput)}`;
      window.location.href = url;
    }

    // ============================
    // Funções específicas
    // ============================
    function iniciarCerebroTrino() {
      iniciarTeste("cerebro-trino.html");
    }
    function iniciarCanaisCom() {
      iniciarTeste("canaiscom.html");
    }
    function iniciarCompetencias() {
      iniciarTeste("comphab.html");
    }
    function iniciarAutoestima() {
      iniciarTeste("autoestima.html");
    }
    function iniciarProatividade() {
      iniciarTeste("proatividade.html");
    }
    function iniciarQe() {
      iniciarTeste("qe.html");
    }
    function iniciarSabotadores() {
      iniciarTeste("sab.html");
    }
    function iniciarDisc() {
      iniciarTeste("disc.html");
    }
    function iniciarVeca() {
      iniciarTeste("veca.html");
    }

    // ============================
    // Ao carregar a página
    // ============================
    window.onload = function() {
      checkCerebroTrinoStatus();
      checkCanaisComStatus();
      checkComphabStatus();
      checkAutoestStatus();
      checkProatStatus();
      checkQeStatus();
      checkSabotadoresStatus();
      checkDiscStatus();
      checkVecaStatus();
    }
  </script>
</body>
</html>
