<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <title>Portal de Testes de Perfil</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    .input-field {
      width: 300px;
      padding: 10px;
      margin: 10px 0;
    }
    .btn {
      padding: 10px 20px;
      background: #2E7D32;
      color: #fff;
      border: none;
      cursor: pointer;
      margin: 10px 0;
    }
    .btn:hover {
      background: #1B5E20;
    }
    .btn-desabilitado {
      padding: 10px 20px;
      background: #aaa;
      color: #fff;
      border: none;
      cursor: not-allowed;
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <header>
    <h2>Portal de Testes de Perfil v2</h2>
  </header>

  <main>
    <h1>Bem-vindo(a) ao Portal de Testes</h1>
    <p>Por favor, insira seu nome e último sobrenome:</p>
    <input 
      type="text" 
      id="userName" 
      class="input-field" 
      placeholder="SEU NOME (EX.: IVO DIAS)"
      required
      style="text-transform: uppercase;"
    />
    <p>Por favor, insira seu email:</p>
    <input 
      type="email" 
      id="userEmail" 
      class="input-field" 
      placeholder="seu email (ex.: fulano@teste.com)"
      required
      style="text-transform: lowercase;"
    />

    <div style="margin-top: 20px;">
      <!-- 1) Cérebro Trino (Ativo) -->
      <button id="cerebroTrinoBtn" class="btn" onclick="iniciarCerebroTrino()">Cérebro Trino</button>
      <!-- 2) Canais de Comunicação (Em Breve) -->
      <button class="btn btn-desabilitado" disabled>Canais de Comunicação</button>
      <!-- 3) Competencias e Habilidades (Em Breve) -->
      <button class="btn btn-desabilitado" disabled>Competências e Habilidades</button>
      <!-- 4) Autoestima (Em Breve) -->
      <button class="btn btn-desabilitado" disabled>Autoestima</button>
      <!-- 5) Proatividade (Em Breve) -->
      <button class="btn btn-desabilitado" disabled>Proatividade</button>
      <!-- 6) Quociente Emocional (Em Breve) -->
      <button class="btn btn-desabilitado" disabled>Quociente Emocional</button>
      <!-- 7) Comportamentos Sabotadores (Ativo) -->
      <button id="sabotadoresBtn" class="btn" onclick="iniciarSabotadores()">Comportamentos Sabotadores</button>
      <!-- 8) DISK (Ativo) -->
      <button id="discBtn" class="btn" onclick="iniciarDisc()">DISK</button>
      <!-- 9) VECA (Em Breve) -->
      <button class="btn btn-desabilitado" disabled>VECA</button>
    </div>
  </main>

  <footer style="margin-top:20px;font-size:10px;color:#666;">
    © 2025 - Portal de Testes de Perfil
  </footer>

  <script>
    // Verifica se Cérebro Trino já foi concluído e atualiza o botão
    function checkCerebroTrinoStatus() {
      const btn = document.getElementById("cerebroTrinoBtn");
      if (localStorage.getItem("cerebroTrinoDone") === "true") {
        btn.textContent = "Cérebro Trino ✔";
      }
    }

    // Verifica se Sabotadores já foi concluído e atualiza o botão
    function checkSabotadoresStatus() {
      const btn = document.getElementById("sabotadoresBtn");
      if (localStorage.getItem("sabTestDone") === "true") {
        btn.textContent = "Comportamentos Sabotadores ✔";
      }
    }

    // Verifica se DISK já foi concluído e atualiza o botão
    function checkDiscStatus() {
      const btn = document.getElementById("discBtn");
      if (localStorage.getItem("discTestDone") === "true") {
        btn.textContent = "DISK ✔";
      }
    }

    // Iniciar Cérebro Trino
    function iniciarCerebroTrino() {
      const nameInput = document.getElementById("userName").value.trim();
      const emailInput = document.getElementById("userEmail").value.trim().toLowerCase();
      if (!validarCampos(nameInput, emailInput)) return;
      const url = `cerebro-trino.html?name=${encodeURIComponent(nameInput)}&email=${encodeURIComponent(emailInput)}`;
      window.location.href = url;
    }

    // Iniciar Sabotadores
    function iniciarSabotadores() {
      const nameInput = document.getElementById("userName").value.trim();
      const emailInput = document.getElementById("userEmail").value.trim().toLowerCase();
      if (!validarCampos(nameInput, emailInput)) return;
      const url = `sab.html?name=${encodeURIComponent(nameInput)}&email=${encodeURIComponent(emailInput)}`;
      window.location.href = url;
    }

    // Iniciar DISK
    function iniciarDisc() {
      const nameInput = document.getElementById("userName").value.trim();
      const emailInput = document.getElementById("userEmail").value.trim().toLowerCase();
      if (!validarCampos(nameInput, emailInput)) return;
      const url = `disc.html?name=${encodeURIComponent(nameInput)}&email=${encodeURIComponent(emailInput)}`;
      window.location.href = url;
    }

    // Validação de campos
    function validarCampos(nameInput, emailInput) {
      if (nameInput.length < 8 || !nameInput.includes(" ")) {
        alert("Por favor, insira seu nome e último sobrenome (mínimo 8 caracteres).");
        return false;
      }
      if (!validateEmail(emailInput)) {
        alert("Por favor, insira um email válido.");
        return false;
      }
      return true;
    }

    // Validação simples de email
    function validateEmail(email) {
      const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return re.test(email.toLowerCase());
    }

    // Ao carregar a página, verifica status de cada teste
    window.onload = function() {
      checkCerebroTrinoStatus();
      checkSabotadoresStatus();
      checkDiscStatus();
    }
  </script>
</body>
</html>
